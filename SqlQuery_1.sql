DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'wawi.DerContext'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202512121232198_InitialCreate'
BEGIN
    CREATE TABLE [dbo].[Artikels] (
        [Id] [int] NOT NULL IDENTITY,
        [Bezeichnung] [nvarchar](max),
        [Preis] [decimal](18, 2) NOT NULL,
        [Bestand] [int] NOT NULL,
        [Bestellt] [int] NOT NULL,
        [Reserviert] [int] NOT NULL,
        [Mindestbestand] [int] NOT NULL,
        [Bestellvorschlag] [int] NOT NULL,
        CONSTRAINT [PK_dbo.Artikels] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[Auftrags] (
        [Id] [int] NOT NULL IDENTITY,
        [Status] [nvarchar](max),
        [ErfUser] [nvarchar](max),
        [ErfDat] [datetime] NOT NULL,
        [MutUser] [nvarchar](max),
        [MutDat] [datetime] NOT NULL,
        [Artikel_Id] [int],
        [Drucker_Id] [int],
        CONSTRAINT [PK_dbo.Auftrags] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_Artikel_Id] ON [dbo].[Auftrags]([Artikel_Id])
    CREATE INDEX [IX_Drucker_Id] ON [dbo].[Auftrags]([Drucker_Id])
    CREATE TABLE [dbo].[Druckers] (
        [Id] [int] NOT NULL IDENTITY,
        [Bezeichnung] [nvarchar](max),
        CONSTRAINT [PK_dbo.Druckers] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[Bestellungs] (
        [Id] [int] NOT NULL IDENTITY,
        [Bestellt] [int] NOT NULL,
        [Geliefert] [int] NOT NULL,
        [Eingang] [int] NOT NULL,
        [Offen] [int] NOT NULL,
        [ErfUser] [nvarchar](max),
        [ErfDat] [datetime] NOT NULL,
        [MutUser] [nvarchar](max),
        [MutDat] [datetime] NOT NULL,
        [Artikel_Id] [int],
        CONSTRAINT [PK_dbo.Bestellungs] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_Artikel_Id] ON [dbo].[Bestellungs]([Artikel_Id])
    ALTER TABLE [dbo].[Auftrags] ADD CONSTRAINT [FK_dbo.Auftrags_dbo.Artikels_Artikel_Id] FOREIGN KEY ([Artikel_Id]) REFERENCES [dbo].[Artikels] ([Id])
    ALTER TABLE [dbo].[Auftrags] ADD CONSTRAINT [FK_dbo.Auftrags_dbo.Druckers_Drucker_Id] FOREIGN KEY ([Drucker_Id]) REFERENCES [dbo].[Druckers] ([Id])
    ALTER TABLE [dbo].[Bestellungs] ADD CONSTRAINT [FK_dbo.Bestellungs_dbo.Artikels_Artikel_Id] FOREIGN KEY ([Artikel_Id]) REFERENCES [dbo].[Artikels] ([Id])
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202512121232198_InitialCreate', N'wawi.DerContext',  0x1F8B0800000000000400ED5B4B6FDC3610BE17E87F10746A8B64653B97D4D84D90ACEDC068FC80D7097A0B6889BB262251AA4439EB16FD653DF427F52F742889144551CFF5DA8BC0F0C5E2E3E3BC38430E67FFFBE7DFE9DB75E05B77384E484867F6FE64CFB63075438FD0D5CC4ED9F2E56BFBED9B1F7F981E7BC1DAFA2CC6BDE2E360264D66F62D63D1A1E324EE2D0E503209881B8749B86413370C1CE485CEC1DEDEAFCEFEBE8301C2062CCB9A5EA5949100671FF0390FA98B239622FF2CF4B09F14EDD0B3C850AD7314E024422E9ED9DFD037625BEF7C8260ED05F697B685280D196240D9E1A7042F581CD2D5228206E45FDF4718C62D919FE082E2C372785FE2F70E38F14E395140B969C2C26020E0FEAB421A8E3E7D944C6D292D90D731C895DD73AE3399CDEC7731235FB16F5BFA5A87733FE6E372894E8A712F2CFEF5426A1A0C82FFBDB0E6A9CFD218CF284E598C60DC657AE313F7377C7F1D7EC5744653DF5729015AA0AFD2004D977118E198DD5FE16541DFA9675B4E759EA34F94D3943939E9A794BD3AB0AD73581CDDF8582A5A6173C1C2187FC014C78861EF12318663CA317026AADAEADA5AEFF19F98B8B734A52BB1281818E15F6768FD11D315BB9DD9F0AF6D9D9035F6444B41C8274A6033C12416A7B86BADCB189344AC72845D1220501CB4BAA4D89EAF6D6BE122CEA889EB2E4E128668A7E8BA41B0EFB3CD50AE7082E33B022D9BE19C11EA014137C3399B3AE54E69DF3FE912EC7DD5BD7FF271CFFB475B6B013069B2F5AD731C2FC1F5C78FB1CE1192560BFFE26B88639D769AB247A10ED6E943DD39BA23AB4CBBDA7C192CAEB09FF527B724CAA3AC30F02F72CC491C0657A15FEE11D1F56511A6B10BCB5E87E6FE6B14AF30EB4FD6519CBA5FB9F85AC89263EA64155D8D64897E1359BDFD845CBFC34F14E39EFDC4A3C5D9DE2A2C625B46418716CBA1CF8ADCCA09E103F6095E6E7C4038060342A5458D04798E2D5B8E2DE5763285977A6FCD951B860CF1E6EF922474494655F5D827C9A932794C3DAB23F4E5CA502214A8043C0289C007000533FB979AE89A51052F2AAA905315756F32D9D77956B8EBC7B488655DE4D502EB8330AD8763055506D90764DA607B4D14B6196249A41A46FA73DF62C10FAAF57C03CC43CA1001172F4E2F38E64D78CD0CA10FDC4B11FD92C255E84C70C80566D59D0E87FE72B7E9F4D7E4A041E4B660841096D50151D88A09429A510744A913138AAA670D48917D8DA7D2C329A31ACED8FA69A0DBEF481654193AFD7184CDA938529DFAB1A3CAE600114805348BC0E8837A79A1B122D0FD8E8253DAD2C6223085BABA14BA9C525FB7A4F05031E61671B438A2CD8C42045FE97BCA2CAF93A779453AD869C8074FCF5014C1E946C90F172DD6224F0ECF5F2E86E750831CC37113432A55522B5782E3315A61AD1796064A4F489CF05312BA41FC7C35F782DA30C5D336381FB190E64CEB1A13FE484CE0FFE793D48CAE3EB114DA09F011C0A13E6309D7955B9F9925E4918F62C3FD621EFA69409BEE286DB32B573F15A6D2D11FAF48A3AA4845D3109A8A9462959EA271184E7E1BD281F2D6FE486ACE54C552DBFBA3E999531551EFABA34E1DCD8474E3746AD6A97909DDDAFBED05E1CE87EF85E2D030622F34CDDCCE5E10E9521541B4F5479137561546360EC2C9EE7C1A4CD636C0D6C40DB56264A271104E8D1AD1B633362A8F0A836DB4E1C4D3C3461B67EE96BF7E228DA8079FC14A510EF9C3F5D236795BAA79A870A324E05428A579801B1159B88A1F118DCF6E6D97DC5AF5F86E8CBFE5C5C51C65CBFE9EC194DF3EF46CA1F95E5A1747AF4D24504C9B890B44AE3E9CB0E2A63592B0C104C1DDC12359F6EA34E1696C99CBEDC7AE7E3D1B6D02F206DF6002B27F7313D0EEE523252D501ED004B4C4C34E994033BB1B9B802983D118359B7D4173703488BC3929F1F41EA139FDB25316B18953A8A56EF421322AC9148E96AA99166993EEFABE5A1E251FC2EBA0C23BE2F11CCAE21E241E4CF880C9E20F7F0E4712CACA016788922528257F67B50FF6F60FB482C1DD29DE7392C4F30D69274305DFA3BF15132ED4CED7E0C10564B5777E7A8762F716C53F0568FDB30A38B866CEDB72CD5C26910D2BE6C660D4EBE5C6A098ABE5BA9106D7CA7D1F965AAD5CDBC848B50A824DB19477780F7865D93BFC3014AD6A60238AAA9501632952E393A2D5DA6BE42918F17A66FF954D3BB44E7FFF52CE7C615DC410000EAD3DEBEFA1EBAB27A661EB9733FBAF3FB8AEECFBD8539B79FF31955CDF8BDC360F22B592AA31205A41D528886767B863CE700B6551EAC57068ED8A65789D1F575C74C5ED9D6F39E4C3D5258149A49E30BB8C097549847C8DF6FAEDAD8FABE0D294887ACF118E30E53E4063AECF52ED375689ACF9AD2E096CA13AAC921A1A5AB8F5C4BA6F7E837952DDB727AF1E41F7038AE41E6EEBAB055623EBEB76DD01B43E2F3DB90F30D70AD60B5D74051ACB01DBAA01F3140F84CB9B10549D87A9C60AA3865AC1B65241237E436D585321615B1DA109BFB166ACB9CAB0A3C8D0B44A4B55D763542156555B291EEA517267AAD5DBB52A434DFB95F7F6A763710B5584637559375F3DBDBF9512C17A3E191C9DF2AB7270B5095995103C494EB15B717172CC295D86C2DB6A148921FA311F3304877BC425B4442E836E172749F6D38BCFC84FF9DD24B8C1DE29BD48599432601907377EE5D733DC63B7AD9FD54156699E5E44D94F271E82052093F0FBC9057D9F12DF93749F1832800D103C1414B75CAE4BC66FBBAB7B89741ED29E4085F86404BBC641E40358724117E80E8FA10D6E741FF10AB9F7E259A019A45B1155B14F8F085AC528480A8C723E7C820D7BC1FACDFF9AF10B7F5C410000 , N'6.5.1')
END

IF @CurrentMigration < '202512122149391_migration02'
BEGIN
    EXECUTE sp_rename @objname = N'dbo.Artikels.Bezeichnung', @newname = N'Name', @objtype = N'COLUMN'
    DECLARE @var0 nvarchar(128)
    SELECT @var0 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Artikels')
    AND col_name(parent_object_id, parent_column_id) = 'Name';
    IF @var0 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Artikels] DROP CONSTRAINT [' + @var0 + ']')
    ALTER TABLE [dbo].[Artikels] ALTER COLUMN [Name] [nvarchar](100) NULL
    DECLARE @var1 nvarchar(128)
    SELECT @var1 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Auftrags')
    AND col_name(parent_object_id, parent_column_id) = 'ErfDat';
    IF @var1 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Auftrags] DROP CONSTRAINT [' + @var1 + ']')
    ALTER TABLE [dbo].[Auftrags] ALTER COLUMN [ErfDat] [datetime] NULL
    DECLARE @var2 nvarchar(128)
    SELECT @var2 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Auftrags')
    AND col_name(parent_object_id, parent_column_id) = 'MutDat';
    IF @var2 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Auftrags] DROP CONSTRAINT [' + @var2 + ']')
    ALTER TABLE [dbo].[Auftrags] ALTER COLUMN [MutDat] [datetime] NULL
    DECLARE @var3 nvarchar(128)
    SELECT @var3 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Bestellungs')
    AND col_name(parent_object_id, parent_column_id) = 'ErfDat';
    IF @var3 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Bestellungs] DROP CONSTRAINT [' + @var3 + ']')
    ALTER TABLE [dbo].[Bestellungs] ALTER COLUMN [ErfDat] [datetime] NULL
    DECLARE @var4 nvarchar(128)
    SELECT @var4 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Bestellungs')
    AND col_name(parent_object_id, parent_column_id) = 'MutDat';
    IF @var4 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Bestellungs] DROP CONSTRAINT [' + @var4 + ']')
    ALTER TABLE [dbo].[Bestellungs] ALTER COLUMN [MutDat] [datetime] NULL
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202512122149391_migration02', N'wawi.DerContext',  0x1F8B0800000000000400ED5B5B6FDB36147E1FB0FF20E8691B522B495FBAC06ED13A4911ACB9204E8BBD058C443B4425CA93A8D4D9B05FB687FDA4FD851D4A224551D4D57662144180C0E6E5E3B9F11CF2F0F8BF7FFE1DBF5B05BEF580A3988474621F8CF66D0B5337F4085D4CEC84CD5FBDB1DFBDFDF187F18917ACAC2F62DC6B3E0E66D27862DF33B63C729CD8BDC7018A470171A3300EE76CE4868183BCD039DCDFFFD53938703040D8806559E3EB843212E0F40B7C9D86D4C54B9620FF3CF4B01FE7EDD0334B51AD0B14E078895C3CB1BFA16FC4B6DEFB04C1DA33ECCF6D0B511A32C480B2A3CF319EB128A48BD9121A907FF3B8C4306E8EFC18E7141F15C3BB12BF7FC889778A8902CA4D6216063D010F5EE7D270F4E983646A4B6981BC4E40AEEC91739DCA6C62BF8F18F98A7DDBD2D73A9AFA111F974974948FDBB3F8B73DA9693008FEB7674D139F25119E509CB008C1B8ABE4CE27EE6FF8F126FC8AE98426BEAF5202B4405FA9019AAEA2708923F6788DE7397D679E6D39E5798E3E514E53E664A49F51F6FAD0B62E607174E763A96885CD190B23FC11531C2186BD2BC4188E28C7C0A9A82AAB6B6BF1FF6235B02CD816B6758E569F305DB0FB890D1F6DEB94ACB0275A720A3E5302BB0826B128C16D8B5C4598C4629563EC920081C6A0D525F9BE7C635B3317710E4DEC36A37FC03143B45566ED20D8F7D97A28D738C6D1038196F570CE09F580A0BBFE9C8D9D628B346F9C640E86BE68DF38D9B8978DA3AD35039824DEFAD63989E6E0F3A3A758E71849AB858FF88604ED769AB027A10ED6E942DD057A208B54BBDA7C1925AEB19FF6C7F76499855761E0B772CC691406D7A15FEC11D1753B0B93C8E5EE3234F7DFA068815977B28EA3C4FDCAC5D740961C53252BEFAA254BF49BC8EAEC27E4FA2D7E221FF7E2272A81E54F4CDC7B9AF08DB1D16DD25985796C4B2968D16231F445915B39217CC43EC1F3B50F08276040A8B0A881202FB165CBB1A5D84EA6F052EDADB872C3903EDEFC7D1C872E49A92A1FFB243965264FA867B584BE4C194A8402958047204BF00140C1C4FEA522BA7A54C18B8A2AE45446DD1F8D0E749E15EEBA312D62591B7995C0BA11A6F570ACA0CA20BB41A60DB657476193211644AA61A43BF70D16BC51AD671B601A528608B878717AC1116FC22B66087DE05EF2E817E7AE42678243CE302BEF7438F417BB4DA7BF22070D22B3052384B0AC1688DC564C10D28C5A200A9D9850543D6B408AEC2B3C151E4E195573C6D64F03ED7E47B2A0CAD0E98E236C4EC591EAD48F1D65367B88402AA05E04461FD4C90B0D1581EE77149CC296D6168129D455A5D0E694BABA25858792313788A3C111AD671422F84ADF53A4779D2CBF2BF2C04E4D22787C8E964B38DD2889E1BCC59A6559E1E9AB59FFE4699061386E6CC8A14A6AE54A703C460BACF5C2D240E92989627E4A4277889FAFA65E5019A678DA1AE72316D29C695563C21F8909FC7336494DE5EA130BA19D021F011CEA53967055B9D59969261EF92832DC2FA6A19F04B4EE8ED2343BCBADAAF3B396EE0879E25485C89BBA63C8F4A88A221BFBE164F71F1D286BED8EA46649552CB5BD3B9A9E2B5511F5BE2AEAD8D18C463747A7628F9A5FD0EDBB9BF50B07DEDFFAF363C200EBAF9BB91DEB1709521541B47547917754154636F6C2496F791A4CDAD6C3D6C49DB46464A2B1174E851AD1B633362A0F07BD6DB4E68CD3C1466B676EC7464BC9B9B25B533A764623EA51A7B75294637D7FBD344DDE966A36156E94949B0AA534F7702322EF56F223A2F1C5ADED925B2B1FD88DF1B7B8AA98A36CD1DF3198F2FB869E1F34DF44ABE2E8B489048A69337181C8D5FB1396DFAD0612D69B20B82D7824CD579DC53C712DB3B7DDD8D52F64834D40DED96B4C40F6AF6F02DA4D7CA0A405CA064D404B35EC9409D4B3BBB609987216B551B3DE17D4074783C8EBD310CFEF11EA132E3B6511EB38854AB2461F22A3924CDA68C999719E28692FE5AB644EB221BCF2297C201ECF9ACC1E41E2C1880F18CDFEF0A77024A1AC18708E28998352B29755FB70FFE050AB0DDC9D3A3D278E3DDF90683214EB3DF9EB30E1426D7DFFEDF97C9A2573B205E8038ADC7B14FD14A0D5CF2A52EFF2386FCBE571A928D62C8E1B82512D8D1B82622E8C6B47EA5D16F77D9868B9486D2D23D58A05D6C5529EDC3DE095A54FEEFD50B40281B5282A17010CA5480D4C8A562B0F8F6760C4AB89FD573AEDC83AFBFDB698B9675D46E0F98FAC7DEBEFBEEBAB47A57EEB1733BBAFDFBB84ECFBD8538682AE1EA637A468EB7B91DBFA41A4523D350444AB9D1A04F1E20C77CC196EA1024ABD11F62D53B10C0FF1C3EA88AEB9BDF32D877CB8B3C430895433655711A12E59225FA3BD7A6DEBE22AB83425A2DE738C9798721FA031D765A9E6ABAA44D6FC569B04B6500856CA09F5ADD17A66DDD73FBE3CABEE9BB3564FA0FB1EF5709BDBFA6A2DD5C052BA5D77008DEF4ACFEE03CC6581D59A165D81C6CABFA6C2BF2CB703E1F22E04556761AAB698A8A62CB0A92AD0885F5306565733D8543268C2AF2D0FAB2F286CA92734ADD250C0F514058765D596EA843A54D799CAF276ADA050D37EE9A1FDF958DC42C1E0505D56CD57CFEB6FA51AB09A480647A7FC721C5C6D4C160504CF8E53EC965C9C1C7346E7A1F0B61A4562887ECCC70CC1E11E7109CD91CBA0DBC5719CFECAE20BF2137E3709EEB077462F13B64C18B08C833BBFF44319EEB19BD64F4B1ECB348F2F97E9AF2436C1029049F8FDE4927E4888EF49BA4F0D19C01A081E0AF25B2ED725E3B7DDC5A344BA086947A05C7C3282DDE060E903587C4967E8010FA10D6E749FF002B98FE23DA01EA45D1165B18F8F095A442888738C623E7C051BF682D5DBFF01421A435540410000 , N'6.5.1')
END

IF @CurrentMigration < '202512122219330_migration03'
BEGIN
    DECLARE @var5 nvarchar(128)
    SELECT @var5 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Artikels')
    AND col_name(parent_object_id, parent_column_id) = 'Name';
    IF @var5 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Artikels] DROP CONSTRAINT [' + @var5 + ']')
    ALTER TABLE [dbo].[Artikels] ALTER COLUMN [Name] [nvarchar](50) NULL
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202512122219330_migration03', N'wawi.DerContext',  0x1F8B0800000000000400ED5B5B6FDB36147E1FB0FF20E8691B522B495FBAC06ED13A4911ACB9204E8BBD058C443B4425CA93A8D4D9B05FB687FDA4FD851D4A224551D4D57662144180C0E6E5E3B9F11CF2F0F8BF7FFE1DBF5B05BEF580A3988474621F8CF66D0B5337F4085D4CEC84CD5FBDB1DFBDFDF187F18917ACAC2F62DC6B3E0E66D27862DF33B63C729CD8BDC7018A470171A3300EE76CE4868183BCD039DCDFFFD53938703040D8806559E3EB843212E0F40B7C9D86D4C54B9620FF3CF4B01FE7EDD0334B51AD0B14E078895C3CB1BFA16FC4B6DEFB04C1DA33ECCF6D0B511A32C480B2A3CF319EB128A48BD9121A907FF3B8C4306E8EFC18E7141F15C3BB12BF7FC889778A8902CA4D6216063D010F5EE7D270F4E983646A4B6981BC4E40AEEC91739DCA6C62BF8F18F98A7DDBD2D73A9AFA111F974974948FDBB3F8B73DA9693008FEB7674D139F25119E509CB008C1B8ABE4CE27EE6FF8F126FC8AE98426BEAF5202B4405FA9019AAEA2708923F6788DE7397D679E6D39E5798E3E514E53E664A49F51F6FAD0B62E607174E763A96885CD190B23FC11531C2186BD2BC4188E28C7C0A9A82AAB6B6BF1FF6235B02CD816B6758E569F305DB0FB890D1F6DEB94ACB0275A720A3E5302BB0826B128C16D8B5C4598C4629563EC920081C6A0D525F9BE7C635B3317710E4DEC36A37FC03143B45566ED20D8F7D97A28D738C6D1038196F570CE09F580A0BBFE9C8D9D628B346F9C640E86BE68DF38D9B8978DA3AD35039824DEFAD63989E6E0F3A3A758E71849AB858FF88604ED769AB027A10ED6E942DD057A208B54BBDA7C1925AEB19FF6C7F76499855761E0B772CC691406D7A15FEC11D1753B0B93C8E5EE3234F7DFA068815977B28EA3C4FDCAC5D740961C53252BEFAA254BF49BC8EAEC27E4FA2D7E221FF7E2272A81E54F4CDC7B9AF08DB1D16DD25985796C4B2968D16231F445915B39217CC43EC1F3B50F08276040A8B0A881202FB165CBB1A5D84EA6F052EDADB872C3903EDEFC7D1C872E49A92A1FFB243965264FA867B584BE4C194A8402958047204BF00140C1C4FEA522BA7A54C18B8A2AE45446DD1F8D0E749E15EEBA312D62591B7995C0BA11A6F570ACA0CA20BB41A60DB657476193211644AA61A43BF70D16BC51AD671B601A528608B878717AC1116FC22B66087DE05EF2E817E7AE42678243CE302BEF7438F417BB4DA7BF22070D22B3052384B0AC1688DC564C10D28C5A200A9D9850543D6B408AEC2B3C151E4E195573C6D64F03ED7E47B2A0CAD0E98E236C4EC591EAD48F1D65367B88402AA05E04461FD4C90B0D1581EE77149CC296D6168129D455A5D0E694BABA25858792313788A3C111AD671422F84ADF53A4779D2CBF2BF2C04E4D22787C8E964B38DD2889E1BCC59A6559E1E9AB59FFE4699061386E6CC8A14A6AE54A703C460BACF5C2D240E92989627E4A4277889FAFA65E5019A678DA1AE72316D29C695563C21F8909FC7336494DE5EA130BA19D021F011CEA53967055B9D59969261EF92832DC2FA6A19F04B4EE8ED2343BCBADAAF3B396EE0879E25485C89BBA63C8F4A88A221BFBE164F71F1D286BED8EA46649552CB5BD3B9A9E2B5511F5BE2AEAD8D18C463747A7628F9A5FD0EDBB9BF50B07DEDFFAF363C200EBAF9BB91DEB1709521541B47547917754154636F6C2496F791A4CDAD6C3D6C49DB46464A2B1174E851AD1B633362A0F07BD6DB4E68CD3C1466B676EC7464BC9B9B25B533A764623EA51A7B75294637D7FBD344DDE966A36156E94949B0AA534F7702322EF56F223A2F1C5ADED925B2B1FD88DF1B7B8AA98A36CD1DF3198F2FB869E1F34DF44ABE2E8B489048A69337181C8D5FB1396DFAD0612D69B20B82D7824CD579DC53C712DB3B7DDD8D52F64834D40DED96B4C40F6AF6F02DA4D7CA0A405CA064D404B35EC9409D4B3BBB609987216B551B3DE17D4074783C8EBD310CFEF11EA132E3B6511EB38854AB2461F22A3924CDA68C999719E28692FE5AB644EB221BCF2297C201ECF9ACC1E41E2C1880F18CDFEF0A77024A1AC18708E28998352B29755FB70FFE050AB0DDC9D3A3D278E3DDF90683214EB3DF9EB30E1426D7DFFEDF97C9A2573B205E8038ADC7B14FD14A0D5CF2A52EFF2386FCBE571A928D62C8E1B82512D8D1B82622E8C6B47EA5D16F77D9868B9486D2D23D58A05D6C5529EDC3DE095A54FEEFD50B40281B5282A17010CA5480D4C8A562B0F8F6760C4AB89FD573AEDC83AFBFDB698B9675D46E0F98FAC7DEBEFBEEBAB47A57EEB1733BBAFDFBB84ECFBD8538682AE1EA637A468EB7B91DBFA41A4523D350444AB9D1A04F1E20C77CC196EA1024ABD11F62D53B10C0FF1C3EA88AEB9BDF32D877CB8B3C430895433655711A12E59225FA3BD7A6DEBE22AB83425A2DE738C9798721FA031D765A9E6ABAA44D6FC569B04B6500856CA09F5ADD17A66DDD73FBE3CABEE9BB3564FA0FB1EF5709BDBFA6A2DD5C052BA5D77008DEF4ACFEE03CC6581D59A165D81C6CABFA6C2BF2CB703E1F22E04556761AAB698A8A62CB0A92AD0885F5306565733D8543268C2AF2D0FAB2F286CA92734ADD250C0F514058765D596EA843A54D799CAF276ADA050D37EE9A1FDF958DC42C1E0505D56CD57CFEB6FA51AB09A480647A7FC721C5C6D4C160504CF8E53EC965C9C1C7346E7A1F0B61A4562887ECCC70CC1E11E7109CD91CBA0DBC5719CFECAE20BF2137E3709EEB077462F13B64C18B08C833BBFF44319EEB19BD64F4B1ECB348F2F97E9AF2436C1029049F8FDE4927E4888EF49BA4F0D19C01A081E0AF25B2ED725E3B7DDC5A344BA086947A05C7C3282DDE060E903587C4967E8010FA10D6E749FF002B98FE23DA01EA45D1165B18F8F095A442888738C623E7C051BF682D5DBFF01421A435540410000 , N'6.5.1')
END

IF @CurrentMigration < '202512122241252_migration04'
BEGIN
    
                ALTER TABLE dbo.Artikels
                ADD Bestellvorschlag AS (Mindestbestand + Reserviert - Bestand - Bestellt)
            
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202512122241252_migration04', N'wawi.DerContext',  0x1F8B0800000000000400ED5B5B6FDB36147E1FB0FF20E8691B522B495FBAC06ED13A4911ACB9204E8BBD058C443B4425CA93A8D4D9B05FB687FDA4FD851D4A224551D4D57662144180C0E6E5E3B9F11CF2F0F8BF7FFE1DBF5B05BEF580A3988474621F8CF66D0B5337F4085D4CEC84CD5FBDB1DFBDFDF187F18917ACAC2F62DC6B3E0E66D27862DF33B63C729CD8BDC7018A470171A3300EE76CE4868183BCD039DCDFFFD53938703040D8806559E3EB843212E0F40B7C9D86D4C54B9620FF3CF4B01FE7EDD0334B51AD0B14E078895C3CB1BFA16FC4B6DEFB04C1DA33ECCF6D0B511A32C480B2A3CF319EB128A48BD9121A907FF3B8C4306E8EFC18E7141F15C3BB12BF7FC889778A8902CA4D6216063D010F5EE7D270F4E983646A4B6981BC4E40AEEC91739DCA6C62BF8F18F98A7DDBD2D73A9AFA111F974974948FDBB3F8B73DA9693008FEB7674D139F25119E509CB008C1B8ABE4CE27EE6FF8F126FC8AE98426BEAF5202B4405FA9019AAEA2708923F6788DE7397D679E6D39E5798E3E514E53E664A49F51F6FAD0B62E607174E763A96885CD190B23FC11531C2186BD2BC4188E28C7C0A9A82AAB6B6BF1FF6235B02CD816B6758E569F305DB0FB890D1F6DEB94ACB0275A720A3E5302BB0826B128C16D8B5C4598C4629563EC920081C6A0D525F9BE7C635B3317710E4DEC36A37FC03143B45566ED20D8F7D97A28D738C6D1038196F570CE09F580A0BBFE9C8D9D628B346F9C640E86BE68DF38D9B8978DA3AD35039824DEFAD63989E6E0F3A3A758E71849AB858FF88604ED769AB027A10ED6E942DD057A208B54BBDA7C1925AEB19FF6C7F76499855761E0B772CC691406D7A15FEC11D1753B0B93C8E5EE3234F7DFA068815977B28EA3C4FDCAC5D740961C53252BEFAA254BF49BC8EAEC27E4FA2D7E221FF7E2272A81E54F4CDC7B9AF08DB1D16DD25985796C4B2968D16231F445915B39217CC43EC1F3B50F08276040A8B0A881202FB165CBB1A5D84EA6F052EDADB872C3903EDEFC7D1C872E49A92A1FFB243965264FA867B584BE4C194A8402958047204BF00140C1C4FEA522BA7A54C18B8A2AE45446DD1F8D0E749E15EEBA312D62591B7995C0BA11A6F570ACA0CA20BB41A60DB657476193211644AA61A43BF70D16BC51AD671B601A528608B878717AC1116FC22B66087DE05EF2E817E7AE42678243CE302BEF7438F417BB4DA7BF22070D22B3052384B0AC1688DC564C10D28C5A200A9D9850543D6B408AEC2B3C151E4E195573C6D64F03ED7E47B2A0CAD0E98E236C4EC591EAD48F1D65367B88402AA05E04461FD4C90B0D1581EE77149CC296D6168129D455A5D0E694BABA25858792313788A3C111AD671422F84ADF53A4779D2CBF2BF2C04E4D22787C8E964B38DD2889E1BCC59A6559E1E9AB59FFE4699061386E6CC8A14A6AE54A703C460BACF5C2D240E92989627E4A4277889FAFA65E5019A678DA1AE72316D29C695563C21F8909FC7336494DE5EA130BA19D021F011CEA53967055B9D59969261EF92832DC2FA6A19F04B4EE8ED2343BCBADAAF3B396EE0879E25485C89BBA63C8F4A88A221BFBE164F71F1D286BED8EA46649552CB5BD3B9A9E2B5511F5BE2AEAD8D18C463747A7628F9A5FD0EDBB9BF50B07DEDFFAF363C200EBAF9BB91DEB1709521541B47547917754154636F6C2496F791A4CDAD6C3D6C49DB46464A2B1174E851AD1B633362A0F07BD6DB4E68CD3C1466B676EC7464BC9B9B25B533A764623EA51A7B75294637D7FBD344DDE966A36156E94949B0AA534F7702322EF56F223A2F1C5ADED925B2B1FD88DF1B7B8AA98A36CD1DF3198F2FB869E1F34DF44ABE2E8B489048A69337181C8D5FB1396DFAD0612D69B20B82D7824CD579DC53C712DB3B7DDD8D52F64834D40DED96B4C40F6AF6F02DA4D7CA0A405CA064D404B35EC9409D4B3BBB609987216B551B3DE17D4074783C8EBD310CFEF11EA132E3B6511EB38854AB2461F22A3924CDA68C999719E28692FE5AB644EB221BCF2297C201ECF9ACC1E41E2C1880F18CDFEF0A77024A1AC18708E28998352B29755FB70FFE050AB0DDC9D3A3D278E3DDF90683214EB3DF9EB30E1426D7DFFEDF97C9A2573B205E8038ADC7B14FD14A0D5CF2A52EFF2386FCBE571A928D62C8E1B82512D8D1B82622E8C6B47EA5D16F77D9868B9486D2D23D58A05D6C5529EDC3DE095A54FEEFD50B40281B5282A17010CA5480D4C8A562B0F8F6760C4AB89FD573AEDC83AFBFDB698B9675D46E0F98FAC7DEBEFBEEBAB47A57EEB1733BBAFDFBB84ECFBD8538682AE1EA637A468EB7B91DBFA41A4523D350444AB9D1A04F1E20C77CC196EA1024ABD11F62D53B10C0FF1C3EA88AEB9BDF32D877CB8B3C430895433655711A12E59225FA3BD7A6DEBE22AB83425A2DE738C9798721FA031D765A9E6ABAA44D6FC569B04B6500856CA09F5ADD17A66DDD73FBE3CABEE9BB3564FA0FB1EF5709BDBFA6A2DD5C052BA5D77008DEF4ACFEE03CC6581D59A165D81C6CABFA6C2BF2CB703E1F22E04556761AAB698A8A62CB0A92AD0885F5306565733D8543268C2AF2D0FAB2F286CA92734ADD250C0F514058765D596EA843A54D799CAF276ADA050D37EE9A1FDF958DC42C1E0505D56CD57CFEB6FA51AB09A480647A7FC721C5C6D4C160504CF8E53EC965C9C1C7346E7A1F0B61A4562887ECCC70CC1E11E7109CD91CBA0DBC5719CFECAE20BF2137E3709EEB077462F13B64C18B08C833BBFF44319EEB19BD64F4B1ECB348F2F97E9AF2436C1029049F8FDE4927E4888EF49BA4F0D19C01A081E0AF25B2ED725E3B7DDC5A344BA086947A05C7C3282DDE060E903587C4967E8010FA10D6E749FF002B98FE23DA01EA45D1165B18F8F095A442888738C623E7C051BF682D5DBFF01421A435540410000 , N'6.5.1')
END

IF @CurrentMigration < '202512122252554_migration05_AutomaticMigration'
BEGIN
    ALTER TABLE [dbo].[Artikels] ADD [Bestellvorschlag] [int] NOT NULL DEFAULT 0
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202512122252554_migration05_AutomaticMigration', N'wawi.DerContext',  0x1F8B0800000000000400ED5B5B6FDB36147E1FB0FF20E8691BDA28495FBAC06ED13A4911ACB9204E8BBD158C443B44254A93A8D4D9B05FB687FDA4FD851D4A224551D4D5766214418122E1E5E3B91FF2E8E4BF7FFE9DBC5D05BE758FE38484746A1FECEDDB16A66EE811BA9CDA295BBC7C6DBF7DF3E30F93132F58599FC5BA577C1DECA4C9D4BE632C3A729CC4BDC3014AF602E2C661122ED89E1B060EF242E7707FFF57E7E0C0C100610396654DAE53CA4880B35FE0D759485D1CB114F9E7A187FDA418879979866A5DA000271172F1D4FE86BE11DB7AE7130467CFB1BFB02D4469C81003CA8E3E2578CEE2902EE7110C20FFE621C2B06E81FC0417141F95CBFB12BF7FC88977CA8D02CA4D13160603010F5E15D270F4EDA3646A4B6981BC4E40AEEC81739DC96C6ABF8B19F98A7DDBD2CF3A9AF9315F974B74AF58F7C2E2BFBD909A0683E0FF5E58B3D467698CA714A72C46B0EE2ABDF589FB1B7EB809BF623AA5A9EFAB94002D30571980A1AB388C70CC1EAEF1A2A0EFCCB32DA7BACFD137CA6DCA9E9CF433CA5E1DDAD6051C8E6E7D2C15ADB03967618C3F608A63C4B0778518C331E518381355ED74ED2CFEBF380D2C0BDCC2B6CED1EA23A64B7637B5E147DB3A252BEC899182824F948017C12616A7B8EB90AB1893449C728C5D1220D0188CBAA4F0CBD7B6357711E7D0C46E3BFA7B9C30443B65D60D827D9FAD87728D131CDF1318590FE79C500F08BADD2067F7610CEEE6A3E5FAB6350B83288581EAC913A774CE76974D17E062CB6E97CDD73DBBAC76D61C60D264EB4E7B122F20DBC48F71CE3192FE023FE21B12747B48CA1E853A38A70F7517E89E2C33ED6AFB657EBAC67E369FDC91284FECC2C0BFC835A771185C877EE92362EACB3C4C639707EAD03C7F83E22566FDC93A8E53F72B175F0B59724D9DAC62AA912C316F22AB779C90E777C48962DD739CA805FE3F3171EF684A971B7693DE2A2C724F46418716CBA5CF8ADCCADDE403F6095EAC7D3539010342B4F316F19C5B9E36B794EE644A2FF5D95A28372C1912CDDF2549E8928CAAEAB54F925365F2847A5647EACB95A164285009440412410C000AA6F62F35D135A30A5E545421A72AEAFEDEDE81CEB3C25D3FA6452EEB22AF965837C2B49E8E1554996437C8B4C1F69A286C33C49248358DF4E7BEC58237AAF5DC0166216588408817B7171CF321BC6286D407E1A5C87E49112A742638E41CB3AAA7C3A5BFF4369DFE9A1C3488DC168C10C2B23A200A5B31414833EA802875624251F5AC0129B2AFF15446386555C31D5BBF0D74C71DC9822A43A73F8EB0391547AA53BF7654D91C2002A9806611186350AF283456047ADC51704A5B5A5B04A6545797425750EA1B96141E2AC6DC228E9640B49E5188E42B634F595876F2CAB2A8403B0D25E8C9398A22B8DD2825E962C49AE7F5E8D9CBF9F0B26D9063386E62A8DE4A6AE549703D464BACCDF23A93874F499CF05B12BA45FC7E35F382DA3225D236041F7190164CEB1A13F1486CE03FE79BD422B2BEB114DA29F011C0A53E6309D7955BDF997D03403E8A0DEF8B59E8A7016D7AA3B4EDCEABBAEAFE7CA43F4251B255218AA1FE18B230ABA2C8C16138F9FB4707CA47FB23A9F559154B1DEF8FA6576955447D6E30B74ABDD6C0B5325B479E389A39EA86EED42C5D8B38BAE7F4F32B911A86FB55710119E1574D3BB7E357A2F4AA2288B1FE28F2F5ABC2C8C14138D9FB5183C9C60658B178ED56CC570C0EC2A95123C676C646E5B563B08D36DC9E7AD868E3CEEDD868A5EC570D1DCAC4CE6844BD440D568AF26018AE97B6CDDB52CDA6129952CC53A194E101614454F42A71440C3E87B55D0A6BD5A78031FF968F2073962DE77B2653FE92D12B8FE6376E5D1CBD9C48A0989C890B449E3E9CB0E2D53692B0C104C13BC4235925EC2CE125715917EEC7AEFED41B6D02B21AD06002727E7D13D0DEF823252D503668025A1163A74CA099DDB54DC0540D69CC9ACDB1A039391A44DE5CE078FA88D05CCAD9298B582728D4CA40FA1299956439482BFB4C8A124C777B62AD26932FE1DD5CE13DF1783D66FE00120FF6F882BDF91FFE0CAE2494950BCE11250B504AFECDD63EDC3F38D4FA1D77A7F7D04912CF3794B00C0D88559D3DC27767C285DAF96579E087D9BC4C941F40EF51ECDEA1F8A700AD7E569106B7FC795B6EF9CB44B166C3DF188C7ABBDF181473B3DF1A3CD55AFDDA4CA56CE66B3D6C7077DFF7E10FD55EBBB53C42EB7958174BE91CF0805796750E0C43D1FA1CD6A2A8DACB309622350B2A5AAD7D3F3D038F594DEDBFB26D47D6D9EF5FCA9D2FACCB18D2CC91B56FFD3DF47CF55E36ECFC7267FFF30777C27D1F3E65E84B1B607A637ACFBE17B9AD9FB16A4D606340B416B05110CFC170C782E1161AB9D4E7E7D06E1BCBD04F30AE1DEA9ADB3B7739E4C30329814DA45E96BB8A097549847C8DF6FA1BB14FA8E0D29488FACC318E30E5314063AECF51EDEF6289ACC5AD2E096CA19FAD52801ADA6AF6C4BA6FFED2F3A4BA6F2F913D82EE07B4F56DCEF5D596B0911D81BB1E005A3F623D790C307737D65B7374051A1B18DBFA17F34212A4CBDB10549DA7A9C69EA886EEC6B6E646237E43375B53EB635BE7A309BFB1CBADB92FB2A32DD2744A4B1FDA63F44D56555B6977EAD12468EA2EDCB5BE484DFB95AFFA4FC7E216FA1EC7EAB26EBEFA4784AD3435D6ABD610E8943FBD87509B906509C14BF114BB951027D79CD14528A2AD469158A25FF3314370B9475C420BE43298767192647F2CF219F9297F9B04B7D83BA397298B52062CE3E0D6AFFCBD0F8FD86DE7679D9B559A279751F6C71E9B6001C824FC7D7249DFA7C4F724DDA7860A6003044F05C52B97EB92F1D7EEF241225D84B42750213E99C16E7010F900965CD239BAC763688317DD47BC44EE83F8F8D00CD2AD88AAD827C7042D6314240546B91F7E051BF682D59BFF01E21EF93781420000 , N'6.5.1')
END

IF @CurrentMigration < '202512122252555_migration05'
BEGIN
    
                ALTER TABLE dbo.Artikels
                ADD Bestellvorschlag AS (Mindestbestand + Reserviert - Bestand - Bestellt)
            
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202512122252555_migration05', N'wawi.DerContext',  0x1F8B0800000000000400ED5B5B6FDB36147E1FB0FF20E8691B522B495FBAC06ED13A4911ACB9204E8BBD058C443B4425CA93A8D4D9B05FB687FDA4FD851D4A224551D4D57662144180C0E6E5E3B9F11CF2F0F8BF7FFE1DBF5B05BEF580A3988474621F8CF66D0B5337F4085D4CEC84CD5FBDB1DFBDFDF187F18917ACAC2F62DC6B3E0E66D27862DF33B63C729CD8BDC7018A470171A3300EE76CE4868183BCD039DCDFFFD53938703040D8806559E3EB843212E0F40B7C9D86D4C54B9620FF3CF4B01FE7EDD0334B51AD0B14E078895C3CB1BFA16FC4B6DEFB04C1DA33ECCF6D0B511A32C480B2A3CF319EB128A48BD9121A907FF3B8C4306E8EFC18E7141F15C3BB12BF7FC889778A8902CA4D6216063D010F5EE7D270F4E983646A4B6981BC4E40AEEC91739DCA6C62BF8F18F98A7DDBD2D73A9AFA111F974974948FDBB3F8B73DA9693008FEB7674D139F25119E509CB008C1B8ABE4CE27EE6FF8F126FC8AE98426BEAF5202B4405FA9019AAEA2708923F6788DE7397D679E6D39E5798E3E514E53E664A49F51F6FAD0B62E607174E763A96885CD190B23FC11531C2186BD2BC4188E28C7C0A9A82AAB6B6BF1FF6235B02CD816B6758E569F305DB0FB890D1F6DEB94ACB0275A720A3E5302BB0826B128C16D8B5C4598C4629563EC920081C6A0D525F9BE7C635B3317710E4DEC36A37FC03143B45566ED20D8F7D97A28D738C6D1038196F570CE09F580A0BBFE9C8D9D628B346F9C640E86BE68DF38D9B8978DA3AD35039824DEFAD63989E6E0F3A3A758E71849AB858FF88604ED769AB027A10ED6E942DD057A208B54BBDA7C1925AEB19FF6C7F76499855761E0B772CC691406D7A15FEC11D1753B0B93C8E5EE3234F7DFA068815977B28EA3C4FDCAC5D740961C53252BEFAA254BF49BC8EAEC27E4FA2D7E221FF7E2272A81E54F4CDC7B9AF08DB1D16DD25985796C4B2968D16231F445915B39217CC43EC1F3B50F08276040A8B0A881202FB165CBB1A5D84EA6F052EDADB872C3903EDEFC7D1C872E49A92A1FFB243965264FA867B584BE4C194A8402958047204BF00140C1C4FEA522BA7A54C18B8A2AE45446DD1F8D0E749E15EEBA312D62591B7995C0BA11A6F570ACA0CA20BB41A60DB657476193211644AA61A43BF70D16BC51AD671B601A528608B878717AC1116FC22B66087DE05EF2E817E7AE42678243CE302BEF7438F417BB4DA7BF22070D22B3052384B0AC1688DC564C10D28C5A200A9D9850543D6B408AEC2B3C151E4E195573C6D64F03ED7E47B2A0CAD0E98E236C4EC591EAD48F1D65367B88402AA05E04461FD4C90B0D1581EE77149CC296D6168129D455A5D0E694BABA25858792313788A3C111AD671422F84ADF53A4779D2CBF2BF2C04E4D22787C8E964B38DD2889E1BCC59A6559E1E9AB59FFE4699061386E6CC8A14A6AE54A703C460BACF5C2D240E92989627E4A4277889FAFA65E5019A678DA1AE72316D29C695563C21F8909FC7336494DE5EA130BA19D021F011CEA53967055B9D59969261EF92832DC2FA6A19F04B4EE8ED2343BCBADAAF3B396EE0879E25485C89BBA63C8F4A88A221BFBE164F71F1D286BED8EA46649552CB5BD3B9A9E2B5511F5BE2AEAD8D18C463747A7628F9A5FD0EDBB9BF50B07DEDFFAF363C200EBAF9BB91DEB1709521541B47547917754154636F6C2496F791A4CDAD6C3D6C49DB46464A2B1174E851AD1B633362A0F07BD6DB4E68CD3C1466B676EC7464BC9B9B25B533A764623EA51A7B75294637D7FBD344DDE966A36156E94949B0AA534F7702322EF56F223A2F1C5ADED925B2B1FD88DF1B7B8AA98A36CD1DF3198F2FB869E1F34DF44ABE2E8B489048A69337181C8D5FB1396DFAD0612D69B20B82D7824CD579DC53C712DB3B7DDD8D52F64834D40DED96B4C40F6AF6F02DA4D7CA0A405CA064D404B35EC9409D4B3BBB609987216B551B3DE17D4074783C8EBD310CFEF11EA132E3B6511EB38854AB2461F22A3924CDA68C999719E28692FE5AB644EB221BCF2297C201ECF9ACC1E41E2C1880F18CDFEF0A77024A1AC18708E28998352B29755FB70FFE050AB0DDC9D3A3D278E3DDF90683214EB3DF9EB30E1426D7DFFEDF97C9A2573B205E8038ADC7B14FD14A0D5CF2A52EFF2386FCBE571A928D62C8E1B82512D8D1B82622E8C6B47EA5D16F77D9868B9486D2D23D58A05D6C5529EDC3DE095A54FEEFD50B40281B5282A17010CA5480D4C8A562B0F8F6760C4AB89FD573AEDC83AFBFDB698B9675D46E0F98FAC7DEBEFBEEBAB47A57EEB1733BBAFDFBB84ECFBD8538682AE1EA637A468EB7B91DBFA41A4523D350444AB9D1A04F1E20C77CC196EA1024ABD11F62D53B10C0FF1C3EA88AEB9BDF32D877CB8B3C430895433655711A12E59225FA3BD7A6DEBE22AB83425A2DE738C9798721FA031D765A9E6ABAA44D6FC569B04B6500856CA09F5ADD17A66DDD73FBE3CABEE9BB3564FA0FB1EF5709BDBFA6A2DD5C052BA5D77008DEF4ACFEE03CC6581D59A165D81C6CABFA6C2BF2CB703E1F22E04556761AAB698A8A62CB0A92AD0885F5306565733D8543268C2AF2D0FAB2F286CA92734ADD250C0F514058765D596EA843A54D799CAF276ADA050D37EE9A1FDF958DC42C1E0505D56CD57CFEB6FA51AB09A480647A7FC721C5C6D4C160504CF8E53EC965C9C1C7346E7A1F0B61A4562887ECCC70CC1E11E7109CD91CBA0DBC5719CFECAE20BF2137E3709EEB077462F13B64C18B08C833BBFF44319EEB19BD64F4B1ECB348F2F97E9AF2436C1029049F8FDE4927E4888EF49BA4F0D19C01A081E0AF25B2ED725E3B7DDC5A344BA086947A05C7C3282DDE060E903587C4967E8010FA10D6E749FF002B98FE23DA01EA45D1165B18F8F095A442888738C623E7C051BF682D5DBFF01421A435540410000 , N'6.5.1')
END

IF @CurrentMigration < '202512122301506_migration06'
BEGIN
    ALTER TABLE [dbo].[Artikels] ADD [Bestellvorschlag] [int] NOT NULL DEFAULT 0
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202512122301506_migration06', N'wawi.DerContext',  0x1F8B0800000000000400ED5B5B6FDB36147E1FB0FF20E8691BDA28495FBAC06ED13A4911ACB9204E8BBD158C443B44254A93A8D4D9B05FB687FDA4FD851D4A224551D4D5766214418122E1E5E3B91FF2E8E4BF7FFE9DBC5D05BE758FE38484746A1FECEDDB16A66EE811BA9CDA295BBC7C6DBF7DF3E30F93132F58599FC5BA577C1DECA4C9D4BE632C3A729CC4BDC3014AF602E2C661122ED89E1B060EF242E7707FFF57E7E0C0C100610396654DAE53CA4880B35FE0D759485D1CB114F9E7A187FDA418879979866A5DA000271172F1D4FE86BE11DB7AE7130467CFB1BFB02D4469C81003CA8E3E2578CEE2902EE7110C20FFE621C2B06E81FC0417141F95CBFB12BF7FC88977CA8D02CA4D13160603010F5E15D270F4EDA3646A4B6981BC4E40AEEC81739DC96C6ABF8B19F98A7DDBD2CF3A9AF9315F974B74AF58F7C2E2BFBD909A0683E0FF5E58B3D467698CA714A72C46B0EE2ABDF589FB1B7EB809BF623AA5A9EFAB94002D30571980A1AB388C70CC1EAEF1A2A0EFCCB32DA7BACFD137CA6DCA9E9CF433CA5E1DDAD6051C8E6E7D2C15ADB03967618C3F608A63C4B0778518C331E518381355ED74ED2CFEBF380D2C0BDCC2B6CED1EA23A64B7637B5E147DB3A252BEC899182824F948017C12616A7B8EB90AB1893449C728C5D1220D0188CBAA4F0CBD7B6357711E7D0C46E3BFA7B9C30443B65D60D827D9FAD87728D131CDF1318590FE79C500F08BADD2067F7610CEEE6A3E5FAB6350B83288581EAC913A774CE76974D17E062CB6E97CDD73DBBAC76D61C60D264EB4E7B122F20DBC48F71CE3192FE023FE21B12747B48CA1E853A38A70F7517E89E2C33ED6AFB657EBAC67E369FDC91284FECC2C0BFC835A771185C877EE92362EACB3C4C639707EAD03C7F83E22566FDC93A8E53F72B175F0B59724D9DAC62AA912C316F22AB779C90E777C48962DD739CA805FE3F3171EF684A971B7693DE2A2C724F46418716CBA5CF8ADCCADDE403F6095EAC7D3539010342B4F316F19C5B9E36B794EE644A2FF5D95A28372C1912CDDF2549E8928CAAEAB54F925365F2847A5647EACB95A164285009440412410C000AA6F62F35D135A30A5E545421A72AEAFEDEDE81CEB3C25D3FA6452EEB22AF965837C2B49E8E1554996437C8B4C1F69A286C33C49248358DF4E7BEC58237AAF5DC0166216588408817B7171CF321BC6286D407E1A5C87E49112A742638E41CB3AAA7C3A5BFF4369DFE9A1C3488DC168C10C2B23A200A5B31414833EA802875624251F5AC0129B2AFF15446386555C31D5BBF0D74C71DC9822A43A73F8EB0391547AA53BF7654D91C2002A9806611186350AF283456047ADC51704A5B5A5B04A6545797425750EA1B96141E2AC6DC228E9640B49E5188E42B634F595876F2CAB2A8403B0D25E8C9398A22B8DD2825E962C49AE7F5E8D9CBF9F0B26D9063386E62A8DE4A6AE549703D464BACCDF23A93874F499CF05B12BA45FC7E35F382DA3225D236041F7190164CEB1A13F1486CE03FE79BD422B2BEB114DA29F011C0A53E6309D7955BDF997D03403E8A0DEF8B59E8A7016D7AA3B4EDCEABBAEAFE7CA43F4251B255218AA1FE18B230ABA2C8C16138F9FB4707CA47FB23A9F559154B1DEF8FA6576955447D6E30B74ABDD6C0B5325B479E389A39EA86EED42C5D8B38BAE7F4F32B911A86FB55710119E1574D3BB7E357A2F4AA2288B1FE28F2F5ABC2C8C14138D9FB5183C9C60658B178ED56CC570C0EC2A95123C676C646E5B563B08D36DC9E7AD868E3CEEDD868A5EC570D1DCAC4CE6844BD440D568AF26018AE97B6CDDB52CDA6129952CC53A194E101614454F42A71440C3E87B55D0A6BD5A78031FF968F2073962DE77B2653FE92D12B8FE6376E5D1CBD9C48A0989C890B449E3E9CB0E2D53692B0C104C13BC4235925EC2CE125715917EEC7AEFED41B6D02B21AD06002727E7D13D0DEF823252D503668025A1163A74CA099DDB54DC0540D69CC9ACDB1A039391A44DE5CE078FA88D05CCAD9298B582728D4CA40FA1299956439482BFB4C8A124C777B62AD26932FE1DD5CE13DF1783D66FE00120FF6F882BDF91FFE0CAE2494950BCE11250B504AFECDD63EDC3F38D4FA1D77A7F7D04912CF3794B00C0D88559D3DC27767C285DAF96579E087D9BC4C941F40EF51ECDEA1F8A700AD7E569106B7FC795B6EF9CB44B166C3DF188C7ABBDF181473B3DF1A3CD55AFDDA4CA56CE66B3D6C7077DFF7E10FD55EBBB53C42EB7958174BE91CF0805796750E0C43D1FA1CD6A2A8DACB309622350B2A5AAD7D3F3D038F594DEDBFB26D47D6D9EF5FCA9D2FACCB18D2CC91B56FFD3DF47CF55E36ECFC7267FFF30777C27D1F3E65E84B1B607A637ACFBE17B9AD9FB16A4D606340B416B05110CFC170C782E1161AB9D4E7E7D06E1BCBD04F30AE1DEA9ADB3B7739E4C30329814DA45E96BB8A097549847C8DF6FA1BB14FA8E0D29488FACC318E30E5314063AECF51EDEF6289ACC5AD2E096CA19FAD52801ADA6AF6C4BA6FFED2F3A4BA6F2F913D82EE07B4F56DCEF5D596B0911D81BB1E005A3F623D790C307737D65B7374051A1B18DBFA17F34212A4CBDB10549DA7A9C69EA886EEC6B6E646237E43375B53EB635BE7A309BFB1CBADB92FB2A32DD2744A4B1FDA63F44D56555B6977EAD12468EA2EDCB5BE484DFB95AFFA4FC7E216FA1EC7EAB26EBEFA4784AD3435D6ABD610E8943FBD87509B906509C14BF114BB951027D79CD14528A2AD469158A25FF3314370B9475C420BE43298767192647F2CF219F9297F9B04B7D83BA397298B52062CE3E0D6AFFCBD0F8FD86DE7679D9B559A279751F6C71E9B6001C824FC7D7249DFA7C4F724DDA7860A6003044F05C52B97EB92F1D7EEF241225D84B42750213E99C16E7010F900965CD239BAC763688317DD47BC44EE83F8F8D00CD2AD88AAD827C7042D6314240546B91F7E051BF682D59BFF01E21EF93781420000 , N'6.5.1')
END

IF @CurrentMigration < '202512122303437_migration07'
BEGIN
    DECLARE @var6 nvarchar(128)
    SELECT @var6 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Artikels')
    AND col_name(parent_object_id, parent_column_id) = 'Bestellvorschlag';
    IF @var6 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Artikels] DROP CONSTRAINT [' + @var6 + ']')
    ALTER TABLE [dbo].[Artikels] DROP COLUMN [Bestellvorschlag]
    
                ALTER TABLE dbo.Artikels
                ADD Bestellvorschlag AS (Mindestbestand + Reserviert - Bestand - Bestellt)
            
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202512122303437_migration07', N'wawi.DerContext',  0x1F8B0800000000000400ED5B5B6FDB36147E1FB0FF20E8691BDA28495FBAC06ED13A4911ACB9204E8BBD158C443B44254A93A8D4D9B05FB687FDA4FD851D4A224551D4D5766214418122E1E5E3B91FF2E8E4BF7FFE9DBC5D05BE758FE38484746A1FECEDDB16A66EE811BA9CDA295BBC7C6DBF7DF3E30F93132F58599FC5BA577C1DECA4C9D4BE632C3A729CC4BDC3014AF602E2C661122ED89E1B060EF242E7707FFF57E7E0C0C100610396654DAE53CA4880B35FE0D759485D1CB114F9E7A187FDA418879979866A5DA000271172F1D4FE86BE11DB7AE7130467CFB1BFB02D4469C81003CA8E3E2578CEE2902EE7110C20FFE621C2B06E81FC0417141F95CBFB12BF7FC88977CA8D02CA4D13160603010F5E15D270F4EDA3646A4B6981BC4E40AEEC81739DC96C6ABF8B19F98A7DDBD2CF3A9AF9315F974B74AF58F7C2E2BFBD909A0683E0FF5E58B3D467698CA714A72C46B0EE2ABDF589FB1B7EB809BF623AA5A9EFAB94002D30571980A1AB388C70CC1EAEF1A2A0EFCCB32DA7BACFD137CA6DCA9E9CF433CA5E1DDAD6051C8E6E7D2C15ADB03967618C3F608A63C4B0778518C331E518381355ED74ED2CFEBF380D2C0BDCC2B6CED1EA23A64B7637B5E147DB3A252BEC899182824F948017C12616A7B8EB90AB1893449C728C5D1220D0188CBAA4F0CBD7B6357711E7D0C46E3BFA7B9C30443B65D60D827D9FAD87728D131CDF1318590FE79C500F08BADD2067F7610CEEE6A3E5FAB6350B83288581EAC913A774CE76974D17E062CB6E97CDD73DBBAC76D61C60D264EB4E7B122F20DBC48F71CE3192FE023FE21B12747B48CA1E853A38A70F7517E89E2C33ED6AFB657EBAC67E369FDC91284FECC2C0BFC835A771185C877EE92362EACB3C4C639707EAD03C7F83E22566FDC93A8E53F72B175F0B59724D9DAC62AA912C316F22AB779C90E777C48962DD739CA805FE3F3171EF684A971B7693DE2A2C724F46418716CBA5CF8ADCCADDE403F6095EAC7D3539010342B4F316F19C5B9E36B794EE644A2FF5D95A28372C1912CDDF2549E8928CAAEAB54F925365F2847A5647EACB95A164285009440412410C000AA6F62F35D135A30A5E545421A72AEAFEDEDE81CEB3C25D3FA6452EEB22AF965837C2B49E8E1554996437C8B4C1F69A286C33C49248358DF4E7BEC58237AAF5DC0166216588408817B7171CF321BC6286D407E1A5C87E49112A742638E41CB3AAA7C3A5BFF4369DFE9A1C3488DC168C10C2B23A200A5B31414833EA802875624251F5AC0129B2AFF15446386555C31D5BBF0D74C71DC9822A43A73F8EB0391547AA53BF7654D91C2002A9806611186350AF283456047ADC51704A5B5A5B04A6545797425750EA1B96141E2AC6DC228E9640B49E5188E42B634F595876F2CAB2A8403B0D25E8C9398A22B8DD2825E962C49AE7F5E8D9CBF9F0B26D9063386E62A8DE4A6AE549703D464BACCDF23A93874F499CF05B12BA45FC7E35F382DA3225D236041F7190164CEB1A13F1486CE03FE79BD422B2BEB114DA29F011C0A53E6309D7955BDF997D03403E8A0DEF8B59E8A7016D7AA3B4EDCEABBAEAFE7CA43F4251B255218AA1FE18B230ABA2C8C16138F9FB4707CA47FB23A9F559154B1DEF8FA6576955447D6E30B74ABDD6C0B5325B479E389A39EA86EED42C5D8B38BAE7F4F32B911A86FB55710119E1574D3BB7E357A2F4AA2288B1FE28F2F5ABC2C8C14138D9FB5183C9C60658B178ED56CC570C0EC2A95123C676C646E5B563B08D36DC9E7AD868E3CEEDD868A5EC570D1DCAC4CE6844BD440D568AF26018AE97B6CDDB52CDA6129952CC53A194E101614454F42A71440C3E87B55D0A6BD5A78031FF968F2073962DE77B2653FE92D12B8FE6376E5D1CBD9C48A0989C890B449E3E9CB0E2D53692B0C104C13BC4235925EC2CE125715917EEC7AEFED41B6D02B21AD06002727E7D13D0DEF823252D503668025A1163A74CA099DDB54DC0540D69CC9ACDB1A039391A44DE5CE078FA88D05CCAD9298B582728D4CA40FA1299956439482BFB4C8A124C777B62AD26932FE1DD5CE13DF1783D66FE00120FF6F882BDF91FFE0CAE2494950BCE11250B504AFECDD63EDC3F38D4FA1D77A7F7D04912CF3794B00C0D88559D3DC27767C285DAF96579E087D9BC4C941F40EF51ECDEA1F8A700AD7E569106B7FC795B6EF9CB44B166C3DF188C7ABBDF181473B3DF1A3CD55AFDDA4CA56CE66B3D6C7077DFF7E10FD55EBBB53C42EB7958174BE91CF0805796750E0C43D1FA1CD6A2A8DACB309622350B2A5AAD7D3F3D038F594DEDBFB26D47D6D9EF5FCA9D2FACCB18D2CC91B56FFD3DF47CF55E36ECFC7267FFF30777C27D1F3E65E84B1B607A637ACFBE17B9AD9FB16A4D606340B416B05110CFC170C782E1161AB9D4E7E7D06E1BCBD04F30AE1DEA9ADB3B7739E4C30329814DA45E96BB8A097549847C8DF6FA1BB14FA8E0D29488FACC318E30E5314063AECF51EDEF6289ACC5AD2E096CA19FAD52801ADA6AF6C4BA6FFED2F3A4BA6F2F913D82EE07B4F56DCEF5D596B0911D81BB1E005A3F623D790C307737D65B7374051A1B18DBFA17F34212A4CBDB10549DA7A9C69EA886EEC6B6E646237E43375B53EB635BE7A309BFB1CBADB92FB2A32DD2744A4B1FDA63F44D56555B6977EAD12468EA2EDCB5BE484DFB95AFFA4FC7E216FA1EC7EAB26EBEFA4784AD3435D6ABD610E8943FBD87509B906509C14BF114BB951027D79CD14528A2AD469158A25FF3314370B9475C420BE43298767192647F2CF219F9297F9B04B7D83BA397298B52062CE3E0D6AFFCBD0F8FD86DE7679D9B559A279751F6C71E9B6001C824FC7D7249DFA7C4F724DDA7860A6003044F05C52B97EB92F1D7EEF241225D84B42750213E99C16E7010F900965CD239BAC763688317DD47BC44EE83F8F8D00CD2AD88AAD827C7042D6314240546B91F7E051BF682D59BFF01E21EF93781420000 , N'6.5.1')
END

